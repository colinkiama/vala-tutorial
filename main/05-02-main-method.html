<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="prev" title="5.1. Introducing methods" href="05-01-introducing-methods.html" />

    <link rel="shortcut icon" href="../_static/logo.png"/><!-- Generated with Sphinx 6.1.3 and Furo 2022.12.07 -->
        <title>5.2. Main method - Vala Tutorial</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/gnome.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #A56DE2;
  --color-brand-content: #A56DE2;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #A56DE2;
  --color-brand-content: #A56DE2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #A56DE2;
  --color-brand-content: #A56DE2;
  
      }
    }
  }
</style></head>
  <body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Vala Tutorial</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Vala Tutorial</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01-00-introduction.html">1. Introudction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="02-00-getting-started.html">2. Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="02-01-installation.html">2.1. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="02-02-hello-world.html">2.2. Hello World</a></li>
<li class="toctree-l2"><a class="reference internal" href="02-03-basic-debugging.html">2.3. Basic Debugging</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="03-00-data-types-and-control-structures.html">3. Data Types and Control Structures</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="03-01-variables.html">3.1. Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-02-numbers.html">3.2. Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-03-bools-and-ifs.html">3.3. Booleans and if-statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-04-enums-and-switch-statements.html">3.4. Enums and Switch Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-05-loops.html">3.5. Loops</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="04-00-parrot-program.html">4. Parrot Program</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="04-01-entering-your-phrase.html">4.1. Entering your phrase</a></li>
<li class="toctree-l2"><a class="reference internal" href="04-02-cycle-through-names.html">4.2. Cycle through names</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="05-00-methods.html">5. Methods</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="05-01-introducing-methods.html">5.1. Introducing methods</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">5.2. Main method</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <section id="main-method">
<h1><span class="section-number">5.2. </span>Main method<a class="headerlink" href="#main-method" title="Permalink to this heading">#</a></h1>
<p>The work that you do in this section will be done in a new directory under your
<code class="docutils literal notranslate"><span class="pre">ValaProjects</span></code> directory called <code class="docutils literal notranslate"><span class="pre">MainMethods</span></code>:abbr:</p>
<ol class="arabic simple">
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">MainMethods</span></code> directory under your <code class="docutils literal notranslate"><span class="pre">ValaProjects</span></code> directory</p></li>
<li><p>Create file called <code class="docutils literal notranslate"><span class="pre">main.vala</span></code> inside the <code class="docutils literal notranslate"><span class="pre">MainMethods</span></code> directory.</p></li>
</ol>
<p>In the Hello World section, you wrote the following program:</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span class="w">     </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Hello, world!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="hll"><span class="w"> </span><span class="p">}</span>
</span></pre></div>
</div>
<p>The <cite>main</cite> method that above is the entry point of every Vala program. It is called
by the program automatically.</p>
<p>Throughout this tutorial so far, we’ve used on version of the main method.
There are different types of main methods that give you access to additional features
that are useful for come complicated programs.</p>
<p>Here are some of the other main methods versions there are available:</p>
<section id="main-method-with-exit-code">
<h2><span class="section-number">5.2.1. </span>Main method with exit code<a class="headerlink" href="#main-method-with-exit-code" title="Permalink to this heading">#</a></h2>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span class="w">    </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Hello, world!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="hll"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span class="p">}</span>
</pre></div>
</div>
<p>If you look at the method signature in line 1, the main method has an <code class="docutils literal notranslate"><span class="pre">int</span></code> return
type instead of a <code class="docutils literal notranslate"><span class="pre">dev</span></code> return type. This means that you are required to return an
integer in this method.</p>
<p>In line 3, the value of <code class="docutils literal notranslate"><span class="pre">0</span></code> is returned. The value that is returned is an exit code.
Exit codes tell the operating system the exit status of the program.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> means that you the program ran successfully without errors</p></li>
<li><p>Any non-zero value means that there was an error with the program. The meaning of each value is dependent on the operating system you are using.</p></li>
</ul>
</section>
<section id="main-method-with-arguments">
<h2><span class="section-number">5.2.2. </span>Main method with arguments<a class="headerlink" href="#main-method-with-arguments" title="Permalink to this heading">#</a></h2>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">@&quot;Arguments list length: $args.length</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Arguments list:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">@&quot;$arg</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you compile and run the program, you’ll get a result that looks
similar to this:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Arguments list length: 1</span>
<span class="go">Arguments list:</span>
<span class="go">./main</span>
</pre></div>
</div>
<p>However, the output can change depending on how you call the program.</p>
<p>The value of the argument list is determined by each space seperating string
is used when calling the program. There will always be at least one argument which
is the path to the program executable.</p>
<p>The following arguments are space separated strings that appear after the location of the program.</p>
<p>Try run the program again but append a space then <code class="docutils literal notranslate"><span class="pre">arg2</span> <span class="pre">arg3</span></code> to the program’s path.</p>
<p>e.g: <code class="docutils literal notranslate"><span class="pre">./main</span> <span class="pre">arg2</span> <span class="pre">arg3</span></code>.</p>
<p>The output of the program will look like this:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Arguments list length: 3</span>
<span class="go">Arguments list:</span>
<span class="go">./main</span>
<span class="go">arg2</span>
<span class="go">arg3</span>
</pre></div>
</div>
<p>You can use the values in the arguments list in your program to modifiy its behaviour using data passed in from the environment
it was called from.</p>
<p>There is also a version of the <code class="docutils literal notranslate"><span class="pre">main</span></code> method that allows you to return an exit code too. The following code
will produce the same output:</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">@&quot;Arguments list length: $args.length</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Arguments list:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">@&quot;$arg</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="no-main-method">
<h2><span class="section-number">5.2.3. </span>No main method<a class="headerlink" href="#no-main-method" title="Permalink to this heading">#</a></h2>
<p>If you have a pretty simple program, you don’t even need to write a main method block.
This code will compile and run just fine:</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;No main method block here!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Hello world!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The output of the program will be:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">No main method block here!</span>
<span class="go">Hello world!</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In the Vala version this tutorial is for (0.56), you will receive a warning
stating that “main blocks are experimental”.</p>
<p>So please use this feature with caution.</p>
</div>
</section>
<section id="summary">
<h2><span class="section-number">5.2.4. </span>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">#</a></h2>
<p>Congratualations! You’ve now finished this chapter.</p>
<p>To recap, you’ve learned:</p>
<ul class="simple">
<li><p>Thing 1</p></li>
<li><p>Thing 2</p></li>
<li><p>Thing 3</p></li>
</ul>
<p>– INSERT CHAPTER END MESSAGE HERE –</p>
<p>Now, on to the next chapter!</p>
</section>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="05-01-introducing-methods.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">5.1. </span>Introducing methods</div>
                
              </div>
            </a>
        </div>
      
      </footer>
      
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">5.2. Main method</a><ul>
<li><a class="reference internal" href="#main-method-with-exit-code">5.2.1. Main method with exit code</a></li>
<li><a class="reference internal" href="#main-method-with-arguments">5.2.2. Main method with arguments</a></li>
<li><a class="reference internal" href="#no-main-method">5.2.3. No main method</a></li>
<li><a class="reference internal" href="#summary">5.2.4. Summary</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>